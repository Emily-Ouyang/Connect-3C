(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30aca6e6"],{"09c3":function(e,t,c){},a3d3:function(e,t,c){"use strict";c.r(t);var l=c("7a23");const r=Object(l["createElementVNode"])("div",{class:"loadingio-spinner-spin-69aofg588hf"},[Object(l["createElementVNode"])("div",{class:"ldio-4g11ls18ra"},[Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div")]),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div")]),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div")]),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div")]),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div")]),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div")]),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div")]),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("div")])])],-1),n={class:"my-5 row justify-content-center"},o=Object(l["createElementVNode"])("h3",{class:"text-center mb-5"}," 確認訂單資訊 ",-1),d={class:"table align-middle"},a=Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("th",null,"品名"),Object(l["createElementVNode"])("th",null,"數量"),Object(l["createElementVNode"])("th",{class:"text-end"},"單價")],-1),s={class:"text-end"},i=Object(l["createElementVNode"])("td",{colspan:"2",class:"text-end"},"總計",-1),b={class:"text-end"},O={class:"table"},j=Object(l["createElementVNode"])("th",{width:"100"},"Email",-1),m=Object(l["createElementVNode"])("th",null,"訂購人姓名",-1),u=Object(l["createElementVNode"])("th",null,"訂購人電話",-1),E=Object(l["createElementVNode"])("th",null,"訂購人地址",-1),p=Object(l["createElementVNode"])("th",null,"付款狀態",-1),N={key:0},V={key:1,class:"text-success"},h={class:"text-end"},v={key:0,class:"btn btn-primary"};function g(e,t,c,g,y,k){const f=Object(l["resolveComponent"])("Loading");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createVNode"])(f,{active:y.isLoading},{default:Object(l["withCtx"])(()=>[r]),_:1},8,["active"]),Object(l["createElementVNode"])("div",n,[Object(l["createElementVNode"])("form",{class:"col-md-6",onSubmit:t[1]||(t[1]=Object(l["withModifiers"])((...e)=>k.payOrder&&k.payOrder(...e),["prevent"]))},[o,Object(l["createElementVNode"])("table",d,[a,Object(l["createElementVNode"])("tbody",null,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(y.order.products,e=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:e.id},[Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.product.title),1),Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(e.qty)+"/"+Object(l["toDisplayString"])(e.product.unit),1),Object(l["createElementVNode"])("td",s,Object(l["toDisplayString"])(e.final_total),1)]))),128))]),Object(l["createElementVNode"])("tfoot",null,[Object(l["createElementVNode"])("tr",null,[i,Object(l["createElementVNode"])("td",b,Object(l["toDisplayString"])(y.order.total),1)])])]),Object(l["createElementVNode"])("table",O,[Object(l["createElementVNode"])("tbody",null,[Object(l["createElementVNode"])("tr",null,[j,Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(y.order.user.email),1)]),Object(l["createElementVNode"])("tr",null,[m,Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(y.order.user.name),1)]),Object(l["createElementVNode"])("tr",null,[u,Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(y.order.user.tel),1)]),Object(l["createElementVNode"])("tr",null,[E,Object(l["createElementVNode"])("td",null,Object(l["toDisplayString"])(y.order.user.address),1)]),Object(l["createElementVNode"])("tr",null,[p,Object(l["createElementVNode"])("td",null,[y.order.is_paid?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",V,"已完成付款")):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",N,"總計$"+Object(l["toDisplayString"])(y.order.total)+"元 未付款",1))])])])]),Object(l["createElementVNode"])("div",h,[!1===y.order.is_paid?(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",v,"立即付款")):(Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{key:1,class:"btn btn-primary",onClick:t[0]||(t[0]=Object(l["withModifiers"])((...e)=>k.goSuccess&&k.goSuccess(...e),["prevent"]))},"完成訂購"))])],32)])],64)}c("14d9");var y={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const e="https://vue3-course-api.hexschool.io/api/store-api/order/"+this.orderId;this.$http.get(e).then(e=>{e.data.success&&(this.order=e.data.order)})},payOrder(){const e="https://vue3-course-api.hexschool.io/api/store-api/pay/"+this.orderId;this.$http.post(e).then(e=>{e.data.success&&this.getOrder()})},goSuccess(){this.$router.push("/user/success")}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},k=(c("d228"),c("6b0d")),f=c.n(k);const B=f()(y,[["render",g]]);t["default"]=B},d228:function(e,t,c){"use strict";c("09c3")}}]);
//# sourceMappingURL=chunk-30aca6e6.563047ac.js.map