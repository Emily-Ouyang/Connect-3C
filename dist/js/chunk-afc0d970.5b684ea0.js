(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afc0d970"],{"0f28":function(e,t,i){
/*!
  * Bootstrap component-functions.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,o){o(t,i("6a95"),i("aa53"))})(0,(function(e,t,i){"use strict";const o=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},s=o(t),l=(e,t="hide")=>{const o="click.dismiss"+e.EVENT_KEY,l=e.NAME;s.default.on(document,o,`[data-bs-dismiss="${l}"]`,(function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),i.isDisabled(this))return;const s=i.getElementFromSelector(this)||this.closest("."+l),a=e.getOrCreateInstance(s);a[t]()}))};e.enableDismissTrigger=l,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}))},1494:function(e,t,i){
/*!
  * Bootstrap backdrop.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,o){e.exports=o(i("6a95"),i("aa53"),i("1243"))})(0,(function(e,t,i){"use strict";const o=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},s=o(e),l=o(i),a="backdrop",n="fade",c="show",d="mousedown.bs."+a,r={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},m={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class u extends l.default{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return r}static get DefaultType(){return m}static get NAME(){return a}show(e){if(!this._config.isVisible)return void t.execute(e);this._append();const i=this._getElement();this._config.isAnimated&&t.reflow(i),i.classList.add(c),this._emulateAnimation(()=>{t.execute(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(c),this._emulateAnimation(()=>{this.dispose(),t.execute(e)})):t.execute(e)}dispose(){this._isAppended&&(s.default.off(this._element,d),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(n),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=t.getElement(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),s.default.on(e,d,()=>{t.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){t.executeAfterTransition(e,this._getElement(),this._config.isAnimated)}}return u}))},"37ed":function(e,t,i){},4205:function(e,t,i){"use strict";i("37ed")},5470:function(e,t,i){
/*!
  * Bootstrap focustrap.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,o){e.exports=o(i("6a95"),i("848f"),i("1243"))})(0,(function(e,t,i){"use strict";const o=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},s=o(e),l=o(t),a=o(i),n="focustrap",c="bs.focustrap",d="."+c,r="focusin"+d,m="keydown.tab"+d,u="Tab",h="forward",b="backward",p={autofocus:!0,trapElement:null},f={autofocus:"boolean",trapElement:"element"};class g extends a.default{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return p}static get DefaultType(){return f}static get NAME(){return n}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),s.default.off(document,d),s.default.on(document,r,e=>this._handleFocusin(e)),s.default.on(document,m,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,s.default.off(document,d))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=l.default.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===b?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===u&&(this._lastTabNavDirection=e.shiftKey?b:h)}}return g}))},"7c2b":function(e,t,i){
/*!
  * Bootstrap modal.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,o){e.exports=o(i("aa53"),i("6a95"),i("848f"),i("ba05"),i("302d"),i("1494"),i("5470"),i("0f28"))})(0,(function(e,t,i,o,s,l,a,n){"use strict";const c=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},d=c(t),r=c(i),m=c(o),u=c(s),h=c(l),b=c(a),p="modal",f="bs.modal",g="."+f,_=".data-api",j="Escape",O="hide"+g,E="hidePrevented"+g,v="hidden"+g,N="show"+g,V="shown"+g,y="resize"+g,w="click.dismiss"+g,k="mousedown.dismiss"+g,x="keydown.dismiss"+g,P=`click${g}${_}`,A="modal-open",M="fade",D="show",T="modal-static",C=".modal.show",B=".modal-dialog",L=".modal-body",S='[data-bs-toggle="modal"]',F={backdrop:!0,focus:!0,keyboard:!0},U={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $ extends u.default{constructor(e,t){super(e,t),this._dialog=r.default.findOne(B,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new m.default,this._addEventListeners()}static get Default(){return F}static get DefaultType(){return U}static get NAME(){return p}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;const t=d.default.trigger(this._element,N,{relatedTarget:e});t.defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(A),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning)return;const e=d.default.trigger(this._element,O);e.defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(D),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])d.default.off(e,g);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new h.default({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new b.default({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=r.default.findOne(L,this._dialog);i&&(i.scrollTop=0),e.reflow(this._element),this._element.classList.add(D);const o=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,d.default.trigger(this._element,V,{relatedTarget:t})};this._queueCallback(o,this._dialog,this._isAnimated())}_addEventListeners(){d.default.on(this._element,x,e=>{if(e.key===j)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),d.default.on(window,y,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),d.default.on(this._element,k,e=>{d.default.one(this._element,w,t=>{this._dialog.contains(e.target)||this._dialog.contains(t.target)||("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(A),this._resetAdjustments(),this._scrollBar.reset(),d.default.trigger(this._element,v)})}_isAnimated(){return this._element.classList.contains(M)}_triggerBackdropTransition(){const e=d.default.trigger(this._element,E);if(e.defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(T)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(T),this._queueCallback(()=>{this._element.classList.remove(T),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),o=i>0;if(o&&!t){const t=e.isRTL()?"paddingLeft":"paddingRight";this._element.style[t]=i+"px"}if(!o&&t){const t=e.isRTL()?"paddingRight":"paddingLeft";this._element.style[t]=i+"px"}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const i=$.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}}))}}return d.default.on(document,P,S,(function(t){const i=e.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),d.default.one(i,N,t=>{t.defaultPrevented||d.default.one(i,v,()=>{e.isVisible(this)&&this.focus()})});const o=r.default.findOne(C);o&&$.getInstance(o).hide();const s=$.getOrCreateInstance(i);s.toggle(this)})),n.enableDismissTrigger($),e.defineJQueryPlugin($),$}))},ba05:function(e,t,i){
/*!
  * Bootstrap scrollbar.js v5.2.1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,o){e.exports=o(i("848f"),i("109e"),i("aa53"))})(0,(function(e,t,i){"use strict";const o=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},s=o(e),l=o(t),a=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",n=".sticky-top",c="padding-right",d="margin-right";class r{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,c,t=>t+e),this._setElementAttributes(a,c,t=>t+e),this._setElementAttributes(n,d,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,c),this._resetElementAttributes(a,c),this._resetElementAttributes(n,d)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const o=this.getWidth(),s=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+o)return;this._saveInitialAttribute(e,t);const s=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,i(Number.parseFloat(s))+"px")};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&l.default.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){const i=e=>{const i=l.default.getDataAttribute(e,t);null!==i?(l.default.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if(i.isElement(e))t(e);else for(const i of s.default.find(e,this._element))t(i)}}return r}))},e6dc:function(e,t,i){"use strict";i.r(t);var o=i("7a23");const s=Object(o["createElementVNode"])("div",{class:"loadingio-spinner-spin-69aofg588hf"},[Object(o["createElementVNode"])("div",{class:"ldio-4g11ls18ra"},[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")])])],-1),l={class:"text-end mt-3 mx-4"},a={class:"table mt-4"},n=Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",{width:"120"},"分類"),Object(o["createElementVNode"])("th",null,"產品名稱"),Object(o["createElementVNode"])("th",{width:"120"},"原價"),Object(o["createElementVNode"])("th",{width:"120"},"售價"),Object(o["createElementVNode"])("th",{width:"100"},"是否啟用"),Object(o["createElementVNode"])("th",{width:"200"},"編輯")])],-1),c={class:"text-right"},d={class:"text-right"},r={key:0,class:"text-success"},m={key:1,class:"text-muted"},u={class:"btn-group"},h=["onClick"],b=["onClick"];function p(e,t,i,p,f,g){const _=Object(o["resolveComponent"])("Loading"),j=Object(o["resolveComponent"])("Pagination"),O=Object(o["resolveComponent"])("ProductModal"),E=Object(o["resolveComponent"])("DelModal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(_,{active:f.isLoading},{default:Object(o["withCtx"])(()=>[s]),_:1},8,["active"]),Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=e=>g.openModal(!0))}," 新增產品 ")]),Object(o["createElementVNode"])("table",a,[n,Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(f.products,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:e.id},[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.category),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.title),1),Object(o["createElementVNode"])("td",c,Object(o["toDisplayString"])(e.origin_price),1),Object(o["createElementVNode"])("td",d,Object(o["toDisplayString"])(e.price),1),Object(o["createElementVNode"])("td",null,[e.is_enabled?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",r,"啟用")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",m,"未啟用"))]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>g.openModal(!1,e)},"編輯",8,h),Object(o["createElementVNode"])("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>g.openDelProductModal(e)},"刪除",8,b)])])]))),128))])]),Object(o["createVNode"])(j,{pages:f.pagination,onEmitPages:g.getProducts},null,8,["pages","onEmitPages"]),Object(o["createVNode"])(O,{ref:"productModal",product:f.tempProduct,onUpdateProduct:g.updateProduct},null,8,["product","onUpdateProduct"]),Object(o["createVNode"])(E,{item:f.tempProduct,ref:"delModal",onDelItem:g.delProduct},null,8,["item","onDelItem"])],64)}const f={"aria-label":"Page navigation example"},g={class:"pagination justify-content-center"},_=Object(o["createElementVNode"])("li",{class:"page-item"},[Object(o["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous"},[Object(o["createElementVNode"])("span",{"aria-hidden":"true"},"«")])],-1),j=["onClick"],O=Object(o["createElementVNode"])("li",{class:"page-item"},[Object(o["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next"},[Object(o["createElementVNode"])("span",{"aria-hidden":"true"},"»")])],-1);function E(e,t,i,s,l,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("nav",f,[Object(o["createElementVNode"])("ul",g,[_,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.pages.total_pages,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:Object(o["normalizeClass"])(["page-item",{active:e===i.pages.current_page}]),key:e},[Object(o["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(o["withModifiers"])(t=>a.updatePage(e),["prevent"])},Object(o["toDisplayString"])(e),9,j)],2))),128)),O])])}var v={props:["pages"],methods:{updatePage(e){this.$emit("emit-pages",e)}}},N=i("6b0d"),V=i.n(N);const y=V()(v,[["render",E]]);var w=y;const k={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},x={class:"modal-dialog modal-xl",role:"document"},P={class:"modal-content border-0"},A=Object(o["createElementVNode"])("div",{class:"modal-header bg-primary text-white"},[Object(o["createElementVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(o["createElementVNode"])("span",null,"新增產品")]),Object(o["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),M={class:"modal-body"},D={class:"row"},T={class:"col-sm-4"},C={class:"mb-3"},B=Object(o["createElementVNode"])("label",{for:"image",class:"form-label"},"輸入圖片網址",-1),L={class:"mb-3"},S=Object(o["createElementVNode"])("label",{for:"customFile",class:"form-label"},[Object(o["createTextVNode"])("或 上傳圖片 "),Object(o["createElementVNode"])("i",{class:"fas fa-spinner fa-spin"})],-1),F=["src"],U=Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("button",{class:"btn btn-outline-primary btn-sm d-block w-100"}," 新增圖片 ")],-1),$={class:"col-sm-8"},I={class:"mb-3"},W=Object(o["createElementVNode"])("label",{for:"title",class:"form-label"},"標題",-1),R={class:"row gx-2"},z={class:"mb-3 col-md-6"},q=Object(o["createElementVNode"])("label",{for:"category",class:"form-label"},"分類",-1),H={class:"mb-3 col-md-6"},K=Object(o["createElementVNode"])("label",{for:"price",class:"form-label"},"單位",-1),Y={class:"row gx-2"},J={class:"mb-3 col-md-6"},Q=Object(o["createElementVNode"])("label",{for:"origin_price",class:"form-label"},"原價",-1),G={class:"mb-3 col-md-6"},X=Object(o["createElementVNode"])("label",{for:"price",class:"form-label"},"售價",-1),Z=Object(o["createElementVNode"])("hr",null,null,-1),ee={class:"mb-3"},te=Object(o["createElementVNode"])("label",{for:"description",class:"form-label"},"產品描述",-1),ie={class:"mb-3"},oe=Object(o["createElementVNode"])("label",{for:"content",class:"form-label"},"說明內容",-1),se={class:"mb-3"},le={class:"form-check"},ae=Object(o["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),ne={class:"modal-footer"},ce=Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消更新 ",-1);function de(e,t,i,s,l,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",k,[Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("div",P,[A,Object(o["createElementVNode"])("div",M,[Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("div",T,[Object(o["createElementVNode"])("div",C,[B,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",id:"image",placeholder:"請輸入圖片連結","onUpdate:modelValue":t[0]||(t[0]=e=>l.tempProduct.imageUrl=e)},null,512),[[o["vModelText"],l.tempProduct.imageUrl]])]),Object(o["createElementVNode"])("div",L,[S,Object(o["createElementVNode"])("input",{type:"file",id:"customFile",class:"form-control",ref:"fileInput",onChange:t[1]||(t[1]=(...e)=>a.uploadFile&&a.uploadFile(...e))},null,544)]),Object(o["createElementVNode"])("img",{class:"img-fluid",src:l.tempProduct.imageUrl,alt:""},null,8,F),U]),Object(o["createElementVNode"])("div",$,[Object(o["createElementVNode"])("div",I,[W,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",id:"title",placeholder:"請輸入標題","onUpdate:modelValue":t[2]||(t[2]=e=>l.tempProduct.title=e)},null,512),[[o["vModelText"],l.tempProduct.title]])]),Object(o["createElementVNode"])("div",R,[Object(o["createElementVNode"])("div",z,[q,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",id:"category",placeholder:"請輸入分類","onUpdate:modelValue":t[3]||(t[3]=e=>l.tempProduct.category=e)},null,512),[[o["vModelText"],l.tempProduct.category]])]),Object(o["createElementVNode"])("div",H,[K,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",id:"unit",placeholder:"請輸入單位","onUpdate:modelValue":t[4]||(t[4]=e=>l.tempProduct.unit=e)},null,512),[[o["vModelText"],l.tempProduct.unit]])])]),Object(o["createElementVNode"])("div",Y,[Object(o["createElementVNode"])("div",J,[Q,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number",class:"form-control",id:"origin_price",placeholder:"請輸入原價","onUpdate:modelValue":t[5]||(t[5]=e=>l.tempProduct.origin_price=e)},null,512),[[o["vModelText"],l.tempProduct.origin_price]])]),Object(o["createElementVNode"])("div",G,[X,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number",class:"form-control",id:"price",placeholder:"請輸入售價","onUpdate:modelValue":t[6]||(t[6]=e=>l.tempProduct.price=e)},null,512),[[o["vModelText"],l.tempProduct.price]])])]),Z,Object(o["createElementVNode"])("div",ee,[te,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{type:"text",class:"form-control",id:"description",placeholder:"請輸入產品描述","onUpdate:modelValue":t[7]||(t[7]=e=>l.tempProduct.description=e)},"\r\n          ",512),[[o["vModelText"],l.tempProduct.description]])]),Object(o["createElementVNode"])("div",ie,[oe,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入產品說明內容","onUpdate:modelValue":t[8]||(t[8]=e=>l.tempProduct.content=e)},"\r\n          ",512),[[o["vModelText"],l.tempProduct.content]])]),Object(o["createElementVNode"])("div",se,[Object(o["createElementVNode"])("div",le,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,id:"is_enabled","onUpdate:modelValue":t[9]||(t[9]=e=>l.tempProduct.is_enabled=e)},null,512),[[o["vModelCheckbox"],l.tempProduct.is_enabled]]),ae])])])])]),Object(o["createElementVNode"])("div",ne,[ce,Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[10]||(t[10]=t=>e.$emit("update-product",l.tempProduct))}," 我要更新 ")])])])],512)}var re=i("7c2b"),me=i.n(re),ue={props:{product:{type:Object,default(){return{}}}},watch:{product(){this.tempProduct=this.product}},data(){return{modal:{},tempProduct:{}}},methods:{uploadFile(){const e=this.$refs.fileInput.files[0],t=new FormData;t.append("file-to-upload",e);const i="https://vue3-course-api.hexschool.io/api/store-api/admin/upload";this.$http.post(i,t).then(e=>{e.data.success&&(this.tempProduct.imageUrl=e.data.imageUrl,console.log(this.tempProduct.imageUrl))})},showModal(){this.modal.show()},hideModal(){this.modal.hide()}},mounted(){this.modal=new me.a(this.$refs.modal)}};const he=V()(ue,[["render",de]]);var be=he;const pe={class:"modal fade",id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},fe={class:"modal-dialog",role:"document"},ge={class:"modal-content border-0"},_e={class:"modal-header bg-danger text-white"},je={class:"modal-title"},Oe=Object(o["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ee={class:"modal-body"},ve=Object(o["createTextVNode"])(" 您確定要刪除 "),Ne={class:"text-danger"},Ve=Object(o["createTextVNode"])(" 嗎?(刪除後將無法回復) "),ye={class:"modal-footer"},we=Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function ke(e,t,i,s,l,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pe,[Object(o["createElementVNode"])("div",fe,[Object(o["createElementVNode"])("div",ge,[Object(o["createElementVNode"])("div",_e,[Object(o["createElementVNode"])("h5",je,[Object(o["createElementVNode"])("span",null,"刪除 "+Object(o["toDisplayString"])(i.item.title),1)]),Oe]),Object(o["createElementVNode"])("div",Ee,[ve,Object(o["createElementVNode"])("strong",Ne,Object(o["toDisplayString"])(i.item.title),1),Ve]),Object(o["createElementVNode"])("div",ye,[we,Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=t=>e.$emit("del-item"))},"確定刪除 ")])])])],512)}var xe={methods:{showModal(){this.modal.show()},hideModal(){this.modal.hide()}},mounted(){this.modal=new me.a(this.$refs.modal)}},Pe={props:{item:{}},data(){return{modal:""}},mixins:[xe]};const Ae=V()(Pe,[["render",ke]]);var Me=Ae,De={data(){return{products:[],pagination:{},tempProduct:{},isNew:!1,isLoading:!1}},components:{Pagination:w,ProductModal:be,DelModal:Me},inject:["emitter"],methods:{getProducts(e=1){const t="https://vue3-course-api.hexschool.io/api/store-api/admin/products/?page="+e;this.isLoading=!0,this.$http.get(t).then(e=>{e.data.success&&(this.products=e.data.products,this.pagination=e.data.pagination,this.isLoading=!1)})},openModal(e,t){this.tempProduct=e?{}:{...t},this.isNew=e;const i=this.$refs.productModal;i.showModal()},updateProduct(e){this.tempProduct=e;let t="https://vue3-course-api.hexschool.io/api/store-api/admin/product",i="post";this.isNew||(t="https://vue3-course-api.hexschool.io/api/store-api/admin/product/"+e.id,i="put");const o=this.$refs.productModal;this.$http[i](t,{data:this.tempProduct}).then(e=>{o.hideModal(),e.data.success?(this.getProducts(),this.emitter.emit("push-message",{style:"success",title:"恭喜您!更新產品成功!"})):this.emitter.emit("push-message",{style:"danger",title:"Oh No!更新產品失敗!",content:e.data.message.join("、")})})},openDelProductModal(e){this.tempProduct={...e};const t=this.$refs.delModal;t.showModal()},delProduct(){const e="https://vue3-course-api.hexschool.io/api/store-api/admin/product/"+this.tempProduct.id;this.$http.delete(e).then(e=>{const t=this.$refs.delModal;t.hideModal(),this.getProducts(),this.emitter.emit("push-message",{style:"success",title:"恭喜您!刪除產品成功!"})})}},created(){this.getProducts()}};i("4205");const Te=V()(De,[["render",p]]);t["default"]=Te}}]);
//# sourceMappingURL=chunk-afc0d970.5b684ea0.js.map