{"version":3,"sources":["webpack:///./src/views/UserCheckout.vue?7d17","webpack:///./src/views/UserCheckout.vue","webpack:///./src/views/UserCheckout.vue?8d35"],"names":["_createElementVNode","class","colspan","width","type","_createVNode","_component_Loading","active","$data","_hoisted_1","onSubmit","$options","_hoisted_3","_hoisted_5","_createElementBlock","_Fragment","_renderList","products","item","key","id","_toDisplayString","product","title","qty","unit","final_total","_hoisted_7","total","_hoisted_10","user","email","_hoisted_11","name","_hoisted_12","tel","_hoisted_13","address","_hoisted_14","is_paid","_hoisted_15","onClick","data","order","orderId","isLoading","methods","getOrder","url","this","$http","get","then","res","success","payOrder","post","goSuccess","$router","push","created","$route","params","__exports__","render"],"mappings":"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","file":"js/chunk-4883eced.91411dd8.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserCheckout.vue?vue&type=style&index=0&id=3d1337a9&lang=css\"","<template>\r\n    <!-- 讀取視覺效果 -->\r\n  <Loading :active=\"isLoading\">\r\n    <div class=\"loadingio-spinner-spin-69aofg588hf\"><div class=\"ldio-4g11ls18ra\">\r\n    <div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div>\r\n    </div></div>\r\n  </Loading>\r\n\r\n    <div class=\"my-5 row justify-content-center\">\r\n      <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\r\n        <h3 class=\"text-center mb-5\">\r\n        確認訂單資訊\r\n        </h3>\r\n\r\n        <table class=\"table align-middle\">\r\n          <thead>\r\n          <th>品名</th>\r\n          <th>數量</th>\r\n          <th class=\"text-end\">單價</th>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n            <td>{{ item.product.title }}</td>\r\n            <td>{{ item.qty }}/{{ item.product.unit }}</td>\r\n            <td class=\"text-end\">{{ item.final_total }}</td>\r\n          </tr>\r\n          </tbody>\r\n          <tfoot>\r\n          <tr>\r\n            <td colspan=\"2\" class=\"text-end\">總計</td>\r\n            <td class=\"text-end\">{{ order.total }}</td>\r\n          </tr>\r\n          </tfoot>\r\n        </table>\r\n\r\n        <table class=\"table\">\r\n          <tbody>\r\n          <tr>\r\n            <th width=\"100\">Email</th>\r\n            <td>{{ order.user.email }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>訂購人姓名</th>\r\n            <td>{{ order.user.name }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>訂購人電話</th>\r\n            <td>{{ order.user.tel }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>訂購人地址</th>\r\n            <td>{{ order.user.address }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>付款狀態</th>\r\n            <td>\r\n              <span v-if=\"!order.is_paid\">總計${{ order.total }}元 未付款</span>\r\n              <span v-else class=\"text-success\">已完成付款</span>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <div class=\"text-end\">\r\n          <button type=\"button\" class=\"btn btn-primary\" v-if=\"order.is_paid === false\">立即付款</button>\r\n          <button type=\"button\" class=\"btn btn-primary\" v-else @click=\"goSuccess\">完成訂購</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      order: {\r\n        user: {}\r\n      },\r\n      orderId: '',\r\n      isLoading: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getOrder() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\r\n\r\n      this.$http.get(url).then((res) => {\r\n          if (res.data.success) {\r\n            this.order = res.data.order;\r\n          }\r\n        });\r\n    },\r\n\r\n    payOrder() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\r\n\r\n      this.$http.post(url).then((res) => {\r\n          if (res.data.success) {\r\n            this.getOrder();\r\n          }\r\n        });\r\n    },\r\n\r\n    goSuccess() {\r\n\t\t\t// 轉址到訂購完成頁面\r\n\t\t\tthis.$router.push('/user/success');\r\n\t\t}\r\n  },\r\n\r\n  created() {\r\n    this.orderId = this.$route.params.orderId;\r\n\r\n    this.getOrder();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* 讀取視覺效果樣式 */\r\n@keyframes ldio-4g11ls18ra {\r\n  0% {\r\n    opacity: 1;\r\n    backface-visibility: hidden;\r\n    transform: translateZ(0) scale(1.5,1.5);\r\n  } 100% {\r\n    opacity: 0;\r\n    backface-visibility: hidden;\r\n    transform: translateZ(0) scale(1,1);\r\n  }\r\n}\r\n\r\n.ldio-4g11ls18ra div > div {\r\n  position: absolute;\r\n  width: 8.8px;\r\n  height: 8.8px;\r\n  border-radius: 50%;\r\n  background: #292664;\r\n  animation: ldio-4g11ls18ra 1s linear infinite;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(1) > div {\r\n  left: 87px;\r\n  top: 51.00000000000001px;\r\n  animation-delay: -0.875s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(1) {\r\n  transform: rotate(0deg);\r\n  transform-origin: 91.4px 55.400000000000006px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(2) > div {\r\n  left: 76px;\r\n  top: 76px;\r\n  animation-delay: -0.75s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(2) {\r\n  transform: rotate(45deg);\r\n  transform-origin: 80.4px 80.4px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(3) > div {\r\n  left: 51.00000000000001px;\r\n  top: 87px;\r\n  animation-delay: -0.625s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(3) {\r\n  transform: rotate(90deg);\r\n  transform-origin: 55.400000000000006px 91.4px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(4) > div {\r\n  left: 25.000000000000007px;\r\n  top: 76px;\r\n  animation-delay: -0.5s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(4) {\r\n  transform: rotate(135deg);\r\n  transform-origin: 29.400000000000006px 80.4px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(5) > div {\r\n  left: 14.000000000000007px;\r\n  top: 51.00000000000001px;\r\n  animation-delay: -0.375s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(5) {\r\n  transform: rotate(180deg);\r\n  transform-origin: 18.400000000000006px 55.400000000000006px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(6) > div {\r\n  left: 25.000000000000007px;\r\n  top: 25.000000000000007px;\r\n  animation-delay: -0.25s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(6) {\r\n  transform: rotate(225deg);\r\n  transform-origin: 29.400000000000006px 29.400000000000006px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(7) > div {\r\n  left: 51.00000000000001px;\r\n  top: 14.000000000000007px;\r\n  animation-delay: -0.125s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(7) {\r\n  transform: rotate(270deg);\r\n  transform-origin: 55.400000000000006px 18.400000000000006px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(8) > div {\r\n  left: 76px;\r\n  top: 25.000000000000007px;\r\n  animation-delay: 0s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(8) {\r\n  transform: rotate(315deg);\r\n  transform-origin: 80.4px 29.400000000000006px;\r\n}\r\n\r\n.loadingio-spinner-spin-69aofg588hf {\r\n  width: 110px;\r\n  height: 110px;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  background: rgba(NaN, NaN, NaN, 0);\r\n}\r\n\r\n.ldio-4g11ls18ra {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  transform: translateZ(0) scale(1);\r\n  backface-visibility: hidden;\r\n  transform-origin: 0 0;\r\n}\r\n\r\n.ldio-4g11ls18ra div { box-sizing: content-box; }\r\n</style>","import { render } from \"./UserCheckout.vue?vue&type=template&id=3d1337a9\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport \"./UserCheckout.vue?vue&type=style&index=0&id=3d1337a9&lang=css\"\n\nimport exportComponent from \"D:\\\\vue\\\\store\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}