{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?43f1","webpack:///./src/views/Products.vue?00e2","webpack:///./src/views/Products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?1d54","webpack:///./src/views/Products.vue?44b1"],"names":["aria-label","class","_createElementVNode","aria-hidden","_hoisted_3","_hoisted_6","_createElementBlock","disabled","$props","current_page","href","onClick","$options","_Fragment","_renderList","total_pages","page","key","_hoisted_5","props","methods","prePage","pages","has_pre","this","$emit","updatePage","nextPage","has_next","__exports__","render","width","_hoisted_11","_hoisted_14","_createVNode","_component_Loading","active","$data","_hoisted_1","type","_hoisted_4","item","id","_toDisplayString","category","title","_ctx","currency","origin_price","price","is_enabled","_component_Pagination","onEmitPages","_component_ProductModal","ref","product","onUpdateProduct","_component_DelModal","onDelItem","tabindex","aria-labelledby","role","data-bs-dismiss","for","_hoisted_36","_hoisted_9","placeholder","imageUrl","$event","onChange","src","_hoisted_15","_hoisted_18","_hoisted_20","unit","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_28","description","_hoisted_30","content","true-value","false-value","_hoisted_33","_hoisted_35","Object","default","watch","tempProduct","data","modal","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","response","success","mixins","modalMixin","products","pagination","isNew","isLoading","components","Pagination","ProductModal","DelModal","inject","getProducts","api","get","res","openModal","productComponent","productModal","showModal","updateProduct","httpMethod","hideModal","emitter","emit","style","message","join","openDelProductModal","delComponent","delModal","delProduct","delete","created"],"mappings":"yIACOA,aAAW,2B,GACVC,MAAM,qC,EAGJC,gCAAuC,QAAjCC,cAAY,QAAO,KAAO,G,GAAhCC,G,gBAaAF,gCAAuC,QAAjCC,cAAY,QAAO,KAAO,G,GAAhCE,G,wDAjBRC,gCAqBM,MArBN,EAqBM,CApBJJ,gCAmBK,KAnBL,EAmBK,CAlBHA,gCAIK,MAJDD,MAAK,6BAAC,YAAW,CAAAM,SAAsC,IAAlBC,QAAMC,iBAA/C,CACEP,gCAEI,KAFDD,MAAM,YAAYS,KAAK,IAAIV,aAAW,WAAYW,QAAK,0CAAUC,UAAQJ,SAAK,eAAjF,IADF,IAkBG,2BAZHF,gCAKKO,cAAA,KAAAC,wBALgCN,QAAMO,YAAdC,I,yBAA7BV,gCAKK,MALDL,MAAK,6BAAC,YAAW,QACFe,IAASR,QAAMC,gBADuBQ,IAAKD,GAA9D,CAEEd,gCAEI,KAFDD,MAAM,YAAYS,KAAK,IAAKC,QAAK,8BAAUC,aAAWI,GAAI,cAA7D,6BACKA,GAAI,EAAAE,IAHX,WAOAhB,gCAIK,MAJDD,MAAK,6BAAC,YAAW,CAAAM,SAAoBC,QAAMC,cAAgBD,QAAMO,gBAArE,CACEb,gCAEI,KAFDD,MAAM,YAAYS,KAAK,IAAIV,aAAW,OAAQW,QAAK,0CAAUC,WAASJ,SAAK,eAA9E,IADF,OAYS,OACbW,MAAO,CAAC,SAERC,QAAS,CACPC,QAAQC,IACe,IAAlBA,EAAMC,SACPC,KAAKC,MAAM,aAAaH,EAAMb,aAAc,IAIhDiB,WAAWV,GACTQ,KAAKC,MAAM,aAAaT,IAG1BW,SAASL,IACe,IAAnBA,EAAMM,UACPJ,KAAKC,MAAM,aAAaH,EAAMb,aAAc,M,qBCvCpD,MAAMoB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,U,yDCPf,W,iECGI5B,gCAEY,OAFPD,MAAM,sCAAoC,CAACC,gCAE1C,OAF+CD,MAAM,mBAAiB,CAC5EC,gCAAsB,YAAjBA,gCAAW,SAAMA,gCAAsB,YAAjBA,gCAAW,SAAMA,gCAAsB,YAAjBA,gCAAW,SAAMA,gCAAsB,YAAjBA,gCAAW,SAAMA,gCAAsB,YAAjBA,gCAAW,SAAMA,gCAAsB,YAAjBA,gCAAW,SAAMA,gCAAsB,YAAjBA,gCAAW,SAAMA,gCAAsB,YAAjBA,gCAAW,aAD1K,G,GAKGD,MAAM,sB,GAOJA,MAAM,c,EACbC,gCASQ,cARNA,gCAOK,WANHA,gCAAuB,MAAnB6B,MAAM,OAAM,MAChB7B,gCAAa,UAAT,QACJA,gCAAuB,MAAnB6B,MAAM,OAAM,MAChB7B,gCAAuB,MAAnB6B,MAAM,OAAM,MAChB7B,gCAAyB,MAArB6B,MAAM,OAAM,QAChB7B,gCAAuB,MAAnB6B,MAAM,OAAM,UAPpB,G,GAeQ9B,MAAM,c,GAGNA,MAAM,c,SAKFA,MAAM,gB,SACNA,MAAM,c,GAIPA,MAAM,a,gBAEPC,gCAAmC,KAAhCD,MAAM,uBAAqB,S,GAA9B+B,G,gBAIA9B,gCAA2B,KAAxBD,MAAM,eAAa,S,GAAtBgC,G,uSAhDVC,yBAIUC,EAAA,CAJAC,OAAQC,aAAS,C,6BACzB,IAEY,CAFZC,I,KADF,cAMApC,gCAKM,MALN,EAKM,CAJJA,gCAGS,UAHDD,MAAM,kBAAkBsC,KAAK,SACpC5B,QAAK,eAAEC,aAAS,KAAQ,YAK3BV,gCAyCM,QAzCN,EAyCM,CAxCNsC,EAWAtC,gCA4BQ,0CA3BNI,gCA0BKO,cAAA,KAAAC,wBA1BcuB,WAARI,I,yBAAXnC,gCA0BK,MA1ByBW,IAAKwB,EAAKC,IAAxC,CACExC,gCAA4B,UAAAyC,6BAArBF,EAAKG,UAAQ,GACpB1C,gCAAyB,UAAAyC,6BAAlBF,EAAKI,OAAK,GACjB3C,gCAEK,KAFL,EAEKyC,6BADAG,WAASC,SAASN,EAAKO,eAAY,GAExC9C,gCAEK,KAFL,EAEKyC,6BADAG,WAASC,SAASN,EAAKQ,QAAK,GAGjC/C,gCAGK,WAF8BuC,EAAKS,qCAAtC5C,gCAA2D,OAA3D,EAAkD,QAAlD,yBACAA,gCAA0C,OAA1C,EAAgC,UAGlCJ,gCAUK,WATHA,gCAQM,MARN,EAQM,CAPJA,gCAES,UAFDqC,KAAK,SAAStC,MAAM,iCAAkCU,QAAK,GAAEC,aAAS,EAAO6B,IAArF,OAIAvC,gCAES,UAFDqC,KAAK,SAAStC,MAAM,gCAAiCU,QAAK,GAAEC,sBAAoB6B,IAAxF,eArBN,UA8BJP,yBAAuEiB,EAAA,CAA1D7B,MAAOe,aAAae,YAAYxC,eAA7C,gCACAsB,yBAAuGmB,EAAA,CAAzFC,IAAI,eAAgBC,QAASlB,cAAcmB,gBAAgB5C,iBAAzE,sCACAsB,yBAA+EuB,EAAA,CAApEhB,KAAMJ,cAAaiB,IAAI,WAAYI,UAAU9C,cAAxD,kC,yBC1DKX,MAAM,aAAayC,GAAG,eAAeiB,SAAS,KAAKC,kBAAgB,oBAAoBzD,cAAY,OAAOmD,IAAI,S,GAC5GrD,MAAM,wBAAwB4D,KAAK,Y,GACjC5D,MAAM,0B,EACTC,gCAKI,OALCD,MAAM,sCAAoC,CAC/CC,gCAEK,MAFDD,MAAM,cAAcyC,GAAG,qBAA3B,CACExC,gCAAiB,YAAX,UAERA,gCAA0G,UAAlGqC,KAAK,SAAStC,MAAM,0BAA0B6D,kBAAgB,QAAQ9D,aAAW,YAJzF,G,GAOGC,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,Y,GACJA,MAAM,Q,EACTC,gCAAoD,SAA7C6D,IAAI,QAAQ9D,MAAM,cAAa,UAAM,G,GAKzCA,MAAM,Q,EACTC,gCAEQ,SAFD6D,IAAI,aAAa9D,MAAM,cAA9B,8BAA2C,WACzCC,gCAAsC,KAAnCD,MAAM,6BADX,G,aAUCA,MAAM,Y,GACJA,MAAM,Q,EACTC,gCAAgD,SAAzC6D,IAAI,QAAQ9D,MAAM,cAAa,MAAE,G,GAKrCA,MAAM,Y,GACJA,MAAM,iB,EACTC,gCAAmD,SAA5C6D,IAAI,WAAW9D,MAAM,cAAa,MAAE,G,GAKxCA,MAAM,iB,EACTC,gCAAgD,SAAzC6D,IAAI,QAAQ9D,MAAM,cAAa,MAAE,G,GAMvCA,MAAM,Y,GACJA,MAAM,iB,EACTC,gCAAuD,SAAhD6D,IAAI,eAAe9D,MAAM,cAAa,MAAE,G,GAK5CA,MAAM,iB,EACTC,gCAAgD,SAAzC6D,IAAI,QAAQ9D,MAAM,cAAa,MAAE,G,EAK5CC,gCAAI,mB,GAECD,MAAM,Q,EACTC,gCAAwD,SAAjD6D,IAAI,cAAc9D,MAAM,cAAa,QAAI,G,GAM7CA,MAAM,Q,EACTC,gCAAoD,SAA7C6D,IAAI,UAAU9D,MAAM,cAAa,QAAI,G,GAMzCA,MAAM,Q,GACJA,MAAM,c,EAMTC,gCAEQ,SAFDD,MAAM,mBAAmB8D,IAAI,cAAa,UAEjD,G,IAOL9D,MAAM,gB,GACTC,gCAES,UAFDqC,KAAK,SAAStC,MAAM,4BAA4B6D,kBAAgB,SAAxE,CACE5D,gCAAmC,KAAhCD,MAAM,wBAAT,6BAAmC,YADrC,G,GAKAC,gCAAuC,KAApCD,MAAM,2BAAyB,S,gCAAK,U,IAAvC+D,O,yDAtGN1D,gCA2GM,MA3GN,EA2GM,CA1GJJ,gCAyGI,MAzGJ,EAyGI,CAxGFA,gCAuGI,MAvGJ,EAuGI,CAtGFsC,EAOFtC,gCAoFM,MApFN,EAoFM,CAnFJA,gCAkFM,MAlFN,EAkFM,CAjFJA,gCAgBM,MAhBN,EAgBM,CAfJA,gCAIM,MAJN,EAIM,CAHJ+D,EAGI,4BAFJ/D,gCACqD,SAD9CqC,KAAK,OAAOtC,MAAM,eAAeyC,GAAG,QAC3CwB,YAAY,U,qCAAmB7B,cAAY8B,SAAQC,IADnD,4BAC+B/B,cAAY8B,cAG7CjE,gCAMM,MANN,EAMM,CALJ8B,EAGA9B,gCACqC,SAD9BqC,KAAK,OAAOG,GAAG,aAAazC,MAAM,eACzCqD,IAAI,YAAae,SAAM,oBAAEzD,mCADzB,YAIFV,gCAAmD,OAA9CD,MAAM,YAAaqE,IAAKjC,cAAY8B,UAAzC,YAGFjE,gCA8DM,MA9DN,EA8DM,CA7DJA,gCAIM,MAJN,EAIM,CAHJqE,EAGI,4BAFJrE,gCACgD,SADzCqC,KAAK,OAAOtC,MAAM,eAAeyC,GAAG,QAC3CwB,YAAY,Q,qCAAiB7B,cAAYQ,MAAKuB,IAD9C,4BAC6B/B,cAAYQ,WAG3C3C,gCAYM,MAZN,EAYM,CAXJA,gCAIM,MAJN,EAIM,CAHJsE,EAGI,4BAFJtE,gCACmD,SAD5CqC,KAAK,OAAOtC,MAAM,eAAeyC,GAAG,WAC3CwB,YAAY,Q,qCAAiB7B,cAAYO,SAAQwB,IADjD,4BAC6B/B,cAAYO,cAG3C1C,gCAIM,MAJN,EAIM,CAHJuE,EAGI,4BAFJvE,gCAC+C,SADxCqC,KAAK,OAAOtC,MAAM,eAAeyC,GAAG,OAC3CwB,YAAY,Q,qCAAiB7B,cAAYqC,KAAIN,IAD7C,4BAC6B/B,cAAYqC,YAI7CxE,gCAYM,MAZN,EAYM,CAXJA,gCAIM,MAJN,EAIM,CAHJyE,EAGI,4BAFJzE,gCACuD,SADhDqC,KAAK,SAAStC,MAAM,eAAeyC,GAAG,eAC7CwB,YAAY,Q,qCAAiB7B,cAAYW,aAAYoB,IADrD,4BAC6B/B,cAAYW,kBAG3C9C,gCAIM,MAJN,EAIM,CAHJ0E,EAGI,4BAFJ1E,gCACgD,SADzCqC,KAAK,SAAStC,MAAM,eAAeyC,GAAG,QAC7CwB,YAAY,Q,qCAAiB7B,cAAYY,MAAKmB,IAD9C,4BAC6B/B,cAAYY,aAG7C4B,EAEA3E,gCAKM,MALN,EAKM,CAJJ4E,EAII,4BAHJ5E,gCAES,YAFCqC,KAAK,OAAOtC,MAAM,eAAeyC,GAAG,cAC9CwB,YAAY,U,qCAAmB7B,cAAY0C,YAAWX,IAAE,iBAC1D,uBADiC/B,cAAY0C,iBAI7C7E,gCAKM,MALN,EAKM,CAJJ8E,EAII,4BAHJ9E,gCAES,YAFCqC,KAAK,OAAOtC,MAAM,eAAeyC,GAAG,UAC9CwB,YAAY,Y,qCAAqB7B,cAAY4C,QAAOb,IAAE,iBACxD,uBADmC/B,cAAY4C,aAI/C/E,gCAWM,MAXN,EAWM,CAVJA,gCASM,MATN,EASM,6BARJA,gCAIyC,SAJlCD,MAAM,mBAAmBsC,KAAK,WAC5B2C,aAAY,EACZC,cAAa,EACdzC,GAAG,a,qCACML,cAAYa,WAAUkB,IAJvC,gCAIiB/B,cAAYa,cAC7BkC,YASVlF,gCAQM,MARN,GAQM,CAPJmF,GAGAnF,gCAGS,UAHDqC,KAAK,SAAStC,MAAM,kBAC3BU,QAAK,iBAAEmC,QAAK,iBAAkBT,iBAD/B,WApGN,K,iBAiHe,IACXlB,MAAO,CACLoC,QAAS,CAEPhB,KAAM+C,OAGNC,UACE,MAAO,MAQbC,MAAO,CACLjC,UAEE/B,KAAKiE,YAAcjE,KAAK+B,UAI5BmC,OACI,MAAO,CACHC,MAAO,GACPF,YAAa,KAIrBrE,QAAS,CACLwE,aAEE,MAAMC,EAAerE,KAAKsE,MAAMC,UAAUC,MAAM,GAG1CC,EAAW,IAAIC,SAGrBD,EAASE,OAAO,iBAAiBN,GAGjC,MAAMO,EAAO,kEAGb5E,KAAK6E,MAAMC,KAAKF,EAAIH,GAAUM,KAAMC,IAChCA,EAASd,KAAKe,UAElBjF,KAAKiE,YAAYtB,SAAWqC,EAASd,KAAKvB,cAKlDuC,OAAQ,CAACC,U,wBCnKX,MAAM9E,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,U,aF6DA,IACX6D,OACI,MAAO,CAEHkB,SAAU,GAEVC,WAAY,GACZpB,YAAa,GACbqB,OAAO,EAEPC,WAAW,IAKnBC,WAAY,CACVC,kBACAC,gBACAC,kBAGFC,OAAQ,CAAC,WAEThG,QAAS,CACLiG,YAAYrG,EAAO,GAGf,MAAMsG,EAAO,2EAAiFtG,EAG9FQ,KAAKuF,WAAY,EAGjBvF,KAAK6E,MAAMkB,IAAID,GACdf,KAAMiB,IAENA,EAAI9B,KAAKe,UAEFjF,KAAKoF,SAAWY,EAAI9B,KAAKkB,SAGzBpF,KAAKqF,WAAaW,EAAI9B,KAAKmB,WAG3BrF,KAAKuF,WAAY,MAK7BU,UAAUX,EAAMrE,GAGZjB,KAAKiE,YADJqB,EACkB,GAGA,IAAIrE,GAIzBjB,KAAKsF,MAAQA,EAEb,MAAMY,EAAmBlG,KAAKsE,MAAM6B,aAEpCD,EAAiBE,aAGnBC,cAAcpF,GAEZjB,KAAKiE,YAAchD,EAKnB,IAAI6E,EAAO,mEAGPQ,EAAa,OAGbtG,KAAKsF,QAGPQ,EAAO,oEAA0E7E,EAAKC,GAGtFoF,EAAa,OAGf,MAAMJ,EAAmBlG,KAAKsE,MAAM6B,aAGpCnG,KAAK6E,MAAMyB,GAAYR,EAAI,CAAC5B,KAAKlE,KAAKiE,cAAcc,KAAMC,IAE1DkB,EAAiBK,YAIdvB,EAASd,KAAKe,SAEjBjF,KAAK6F,cAIL7F,KAAKwG,QAAQC,KAAK,eAAgB,CAEhCC,MAAO,UACPrF,MAAO,iBAKPrB,KAAKwG,QAAQC,KAAK,eAAgB,CAClCC,MAAO,SACPrF,MAAO,gBAGPoC,QAASuB,EAASd,KAAKyC,QAAQC,KAAK,UAOxCC,oBAAoB5F,GACpBjB,KAAKiE,YAAc,IAAIhD,GAEvB,MAAM6F,EAAe9G,KAAKsE,MAAMyC,SAEhCD,EAAaV,aAIbY,aACA,MAAMpC,EAAO,oEAA0E5E,KAAKiE,YAAY/C,GAExGlB,KAAK6E,MAAMoC,OAAOrC,GAAKG,KAAMC,IAC7B,MAAM8B,EAAe9G,KAAKsE,MAAMyC,SAGhCD,EAAaP,YAGbvG,KAAK6F,cAIL7F,KAAKwG,QAAQC,KAAK,eAAgB,CAElCC,MAAO,UACPrF,MAAO,oBAMX6F,UACIlH,KAAK6F,gB,UGzNb,MAAM,GAA2B,KAAgB,GAAQ,CAAC,CAAC,SAASvF,KAErD","file":"js/chunk-7c760466.63eadd19.js","sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" :class=\"{disabled: pages.current_page === 1}\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"prePage(pages)\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\"\r\n      :class=\"{'active': page === pages.current_page}\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\r\n          {{ page }}\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"page-item\" :class=\"{disabled: pages.current_page >= pages.total_pages}\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"nextPage(pages)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"(從Ajax取回來的資料)\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  props: ['pages'],\r\n\r\n  methods: {\r\n    prePage(pages) {\r\n      if(pages.has_pre === true) {\r\n        this.$emit('emit-pages',pages.current_page -1);\r\n      }\r\n    },\r\n\r\n    updatePage(page) {\r\n      this.$emit('emit-pages',page);\r\n    },\r\n\r\n    nextPage(pages) {\r\n      if(pages.has_next === true) {\r\n        this.$emit('emit-pages',pages.current_page +1);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>","import { render } from \"./Pagination.vue?vue&type=template&id=27bbe004\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\vue\\\\store\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Products.vue?vue&type=style&index=0&id=22091251&lang=css\"","<template>\r\n  <!-- 讀取視覺效果 -->\r\n  <Loading :active=\"isLoading\">\r\n    <div class=\"loadingio-spinner-spin-69aofg588hf\"><div class=\"ldio-4g11ls18ra\">\r\n    <div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div>\r\n    </div></div>\r\n  </Loading>\r\n\r\n  <div class=\"text-end mt-3 mx-4\">\r\n    <button class=\"btn btn-primary\" type=\"button\"\r\n    @click=\"openModal(true)\">\r\n      新增產品\r\n    </button>\r\n  </div>\r\n\r\n  <table class=\"table mt-4\">\r\n  <thead>\r\n    <tr>\r\n      <th width=\"120\">分類</th>\r\n      <th>產品名稱</th>\r\n      <th width=\"120\">原價</th>\r\n      <th width=\"120\">售價</th>\r\n      <th width=\"100\">是否啟用</th>\r\n      <th width=\"200\">編輯</th>\r\n    </tr>\r\n  </thead>\r\n\r\n  <tbody>\r\n    <tr v-for=\"item in products\" :key=\"item.id\">\r\n      <td>{{ item.category }}</td>\r\n      <td>{{ item.title }}</td>\r\n      <td class=\"text-right\">\r\n        {{ $filters.currency(item.origin_price) }}\r\n      </td>\r\n      <td class=\"text-right\">\r\n        {{ $filters.currency(item.price) }}\r\n      </td>\r\n\r\n      <td>\r\n        <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\r\n        <span class=\"text-muted\" v-else>未啟用</span>\r\n      </td>\r\n\r\n      <td>\r\n        <div class=\"btn-group\">\r\n          <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false,item)\">\r\n            <i class=\"bi bi-pencil-square\"></i>\r\n          </button>\r\n\r\n          <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"openDelProductModal(item)\">\r\n            <i class=\"bi bi-trash\"></i>\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n<Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n<ProductModal ref=\"productModal\" :product=\"tempProduct\" @update-product=\"updateProduct\"></ProductModal>\r\n<DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\"></DelModal>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '@/components/Pagination.vue';\r\nimport ProductModal from '@/components/ProductModal.vue';\r\nimport DelModal from '@/components/DelModal.vue';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            // 產品資料\r\n            products: [],\r\n            // 分頁資訊\r\n            pagination: {},\r\n            tempProduct: {},\r\n            isNew: false,\r\n            // 讀取視覺效果預設為關閉\r\n            isLoading: false\r\n        }\r\n    },\r\n\r\n    // 元件區域註冊\r\n    components: {\r\n      Pagination,\r\n      ProductModal,\r\n      DelModal\r\n    },\r\n\r\n    inject: ['emitter'],\r\n\r\n    methods: {\r\n        getProducts(page = 1) {\r\n            // API路徑\r\n            // 透過分頁參數來切換頁面\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`;\r\n\r\n            // 觸發讀取視覺效果\r\n            this.isLoading = true;\r\n\r\n            // 送出API\r\n            this.$http.get(api)\r\n            .then((res) => {\r\n\t\t\t\t      // 假設取得產品資料成功時\r\n\t\t\t\t      if(res.data.success) {\r\n                    // 將產品資料存進products陣列中\r\n                    this.products = res.data.products;\r\n\r\n                    // 將分頁資訊存進pagination物件中\r\n                    this.pagination = res.data.pagination;\r\n\r\n                    // 關閉讀取視覺效果\r\n                    this.isLoading = false;\r\n\t\t\t\t}\r\n            });\r\n        },\r\n\r\n        openModal(isNew,item) {\r\n          // 新增產品時\r\n          if(isNew) {\r\n            this.tempProduct = {};\r\n          } else {\r\n            // 編輯產品時\r\n            this.tempProduct = {...item};\r\n          }\r\n\r\n          // 儲存狀態\r\n          this.isNew = isNew;\r\n\r\n          const productComponent = this.$refs.productModal;\r\n\r\n          productComponent.showModal();\r\n        },\r\n\r\n        updateProduct(item) {\r\n          // 將外層以參數形式傳送過來的資料儲存\r\n          this.tempProduct = item;\r\n\r\n          // 發送到遠端\r\n          // 新增產品\r\n          // API路徑\r\n          let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`; \r\n\r\n          // API方法\r\n          let httpMethod = 'post';\r\n\r\n          // 判斷目前是否為編輯狀態(isNew為false)\r\n          if(!this.isNew) {\r\n            // 編輯產品\r\n            // API路徑\r\n            api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\r\n\r\n            // API方法\r\n            httpMethod = 'put';\r\n          }\r\n\r\n          const productComponent = this.$refs.productModal;\r\n\r\n          // 送出API\r\n          this.$http[httpMethod](api,{data:this.tempProduct}).then((response) => {\r\n          // 關閉彈出視窗\r\n          productComponent.hideModal();\r\n\r\n          // 依據成功與否，推送不同的訊息內容\r\n          // 假設更新成功時\r\n          if(response.data.success) {\r\n          // 取得產品資訊列表\r\n          this.getProducts();\r\n\r\n          // 觸發emitter(跨元件溝通工具)\r\n          // 觸發push-message事件，傳送相關資料過去\r\n          this.emitter.emit('push-message', {\r\n            // 相關資料\r\n            style: 'success',\r\n            title: '恭喜您!更新產品成功!'\r\n          });\r\n        } \r\n          // 假設更新失敗時\r\n          else {\r\n            this.emitter.emit('push-message', {\r\n            style: 'danger',\r\n            title: 'Oh No!更新產品失敗!',\r\n            // 後端傳送過來失敗的訊息內容，透過join的方式把陣列內容一一取出，並且在中間補上逗號的形式\r\n            // 將所有訊息補到content中\r\n            content: response.data.message.join('、')\r\n          });\r\n        }\r\n            });\r\n        },\r\n\r\n        // 開啟刪除彈出視窗\r\n        openDelProductModal(item) {\r\n        this.tempProduct = {...item};\r\n\r\n        const delComponent = this.$refs.delModal;\r\n\r\n        delComponent.showModal();\r\n        },\r\n\r\n        // 刪除產品\r\n        delProduct() {\r\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\r\n\r\n        this.$http.delete(url).then((response) => {\r\n        const delComponent = this.$refs.delModal;\r\n\r\n        // 關閉刪除彈出視窗\r\n        delComponent.hideModal();\r\n\r\n        // 重新取得產品資料列表\r\n        this.getProducts();\r\n\r\n        // 觸發emitter(跨元件溝通工具)\r\n        // 觸發push-message事件，傳送相關資料過去\r\n        this.emitter.emit('push-message', {\r\n        // 相關資料\r\n        style: 'success',\r\n        title: '恭喜您!刪除產品成功!'\r\n      });\r\n          });\r\n      }\r\n    },\r\n\r\n    created() {\r\n        this.getProducts();\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* 讀取視覺效果樣式 */\r\n@keyframes ldio-4g11ls18ra {\r\n  0% {\r\n    opacity: 1;\r\n    backface-visibility: hidden;\r\n    transform: translateZ(0) scale(1.5,1.5);\r\n  } 100% {\r\n    opacity: 0;\r\n    backface-visibility: hidden;\r\n    transform: translateZ(0) scale(1,1);\r\n  }\r\n}\r\n\r\n.ldio-4g11ls18ra div > div {\r\n  position: absolute;\r\n  width: 8.8px;\r\n  height: 8.8px;\r\n  border-radius: 50%;\r\n  background: #292664;\r\n  animation: ldio-4g11ls18ra 1s linear infinite;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(1) > div {\r\n  left: 87px;\r\n  top: 51.00000000000001px;\r\n  animation-delay: -0.875s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(1) {\r\n  transform: rotate(0deg);\r\n  transform-origin: 91.4px 55.400000000000006px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(2) > div {\r\n  left: 76px;\r\n  top: 76px;\r\n  animation-delay: -0.75s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(2) {\r\n  transform: rotate(45deg);\r\n  transform-origin: 80.4px 80.4px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(3) > div {\r\n  left: 51.00000000000001px;\r\n  top: 87px;\r\n  animation-delay: -0.625s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(3) {\r\n  transform: rotate(90deg);\r\n  transform-origin: 55.400000000000006px 91.4px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(4) > div {\r\n  left: 25.000000000000007px;\r\n  top: 76px;\r\n  animation-delay: -0.5s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(4) {\r\n  transform: rotate(135deg);\r\n  transform-origin: 29.400000000000006px 80.4px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(5) > div {\r\n  left: 14.000000000000007px;\r\n  top: 51.00000000000001px;\r\n  animation-delay: -0.375s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(5) {\r\n  transform: rotate(180deg);\r\n  transform-origin: 18.400000000000006px 55.400000000000006px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(6) > div {\r\n  left: 25.000000000000007px;\r\n  top: 25.000000000000007px;\r\n  animation-delay: -0.25s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(6) {\r\n  transform: rotate(225deg);\r\n  transform-origin: 29.400000000000006px 29.400000000000006px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(7) > div {\r\n  left: 51.00000000000001px;\r\n  top: 14.000000000000007px;\r\n  animation-delay: -0.125s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(7) {\r\n  transform: rotate(270deg);\r\n  transform-origin: 55.400000000000006px 18.400000000000006px;\r\n}\r\n\r\n.ldio-4g11ls18ra div:nth-child(8) > div {\r\n  left: 76px;\r\n  top: 25.000000000000007px;\r\n  animation-delay: 0s;\r\n}\r\n\r\n.ldio-4g11ls18ra > div:nth-child(8) {\r\n  transform: rotate(315deg);\r\n  transform-origin: 80.4px 29.400000000000006px;\r\n}\r\n\r\n.loadingio-spinner-spin-69aofg588hf {\r\n  width: 110px;\r\n  height: 110px;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  background: rgba(NaN, NaN, NaN, 0);\r\n}\r\n\r\n.ldio-4g11ls18ra {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  transform: translateZ(0) scale(1);\r\n  backface-visibility: hidden;\r\n  transform-origin: 0 0;\r\n}\r\n\r\n.ldio-4g11ls18ra div { box-sizing: content-box; }\r\n</style>","<template>\r\n<!-- Modal -->\r\n<div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n  <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n    <div class=\"modal-content border-0\">\r\n      <div class=\"modal-header bg-primary text-white\">\r\n      <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n        <span>新增產品</span>\r\n      </h5>\r\n      <button type=\"button\" class=\"btn-close bg-white mx-1\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n    </div>\r\n\r\n    <div class=\"modal-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-sm-4\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"image\"\r\n            placeholder=\"請輸入圖片連結\" v-model=\"tempProduct.imageUrl\">\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n              <i class=\"fas fa-spinner fa-spin\"></i>\r\n            </label>\r\n            <input type=\"file\" id=\"customFile\" class=\"form-control\"\r\n            ref=\"fileInput\" @change=\"uploadFile\">\r\n          </div>\r\n\r\n          <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\">\r\n        </div>\r\n\r\n        <div class=\"col-sm-8\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"title\" class=\"form-label\">標題</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"title\"\r\n            placeholder=\"請輸入標題\" v-model=\"tempProduct.title\">\r\n          </div>\r\n\r\n          <div class=\"row gx-2\">\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"category\" class=\"form-label\">分類</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"category\"\r\n              placeholder=\"請輸入分類\" v-model=\"tempProduct.category\">\r\n            </div>\r\n\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"price\" class=\"form-label\">單位</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"unit\"\r\n              placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row gx-2\">\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"origin_price\"\r\n              placeholder=\"請輸入原價\" v-model=\"tempProduct.origin_price\">\r\n            </div>\r\n\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"price\" class=\"form-label\">售價</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"price\"\r\n              placeholder=\"請輸入售價\" v-model=\"tempProduct.price\">\r\n            </div>\r\n          </div>\r\n          <hr>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"description\" class=\"form-label\">產品描述</label>\r\n            <textarea type=\"text\" class=\"form-control\" id=\"description\"\r\n            placeholder=\"請輸入產品描述\" v-model=\"tempProduct.description\">\r\n          </textarea>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"content\" class=\"form-label\">說明內容</label>\r\n            <textarea type=\"text\" class=\"form-control\" id=\"content\"\r\n            placeholder=\"請輸入產品說明內容\" v-model=\"tempProduct.content\">\r\n          </textarea>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <div class=\"form-check\">\r\n              <input class=\"form-check-input\" type=\"checkbox\"\r\n                      :true-value=\"1\"\r\n                      :false-value=\"0\"\r\n                      id=\"is_enabled\"\r\n                      v-model=\"tempProduct.is_enabled\">\r\n              <label class=\"form-check-label\" for=\"is_enabled\">\r\n                是否啟用\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\r\n        <i class=\"bi bi-x-circle-fill\"></i> 取消更新\r\n      </button>\r\n      <button type=\"button\" class=\"btn btn-primary\"\r\n      @click=\"$emit('update-product',tempProduct)\">\r\n      <i class=\"bi bi-check-circle-fill\"></i> 我要更新\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin';\r\n\r\nexport default {\r\n    props: {\r\n      product: {\r\n        // 預設傳進來的資料型別是物件\r\n        type: Object,\r\n\r\n        // 假設外層沒有正確傳遞時，給予預設值\r\n        default() {\r\n          return {};\r\n        }\r\n      }\r\n    },\r\n\r\n    // 監聽product內容有無變動\r\n    // 因為單向數據流，不可直接修改外層資料\r\n    // 所以把傳送進來的資料儲存在tempProduct(撰寫、修改資料所使用的名稱)裡\r\n    watch: {\r\n      product() {\r\n        // 將外層資料傳入\r\n        this.tempProduct = this.product;\r\n      }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            modal: {},\r\n            tempProduct: {}\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        uploadFile() {\r\n          // 將上傳的檔案取出\r\n          const uploadedFile = this.$refs.fileInput.files[0];\r\n\r\n          // 建立FormData格式內容\r\n          const formData = new FormData();\r\n\r\n          // 增加欄位至表單中\r\n          formData.append('file-to-upload',uploadedFile);\r\n\r\n          // API路徑\r\n          const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\r\n\r\n          // 用form表單格式來發送內容\r\n          this.$http.post(url,formData).then((response) => {\r\n          if (response.data.success) {\r\n          // 將遠端路徑儲存至tempProduct中\r\n          this.tempProduct.imageUrl = response.data.imageUrl;\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mixins: [modalMixin]\r\n};\r\n</script>","import { render } from \"./ProductModal.vue?vue&type=template&id=2560d526\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\vue\\\\store\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=22091251\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=22091251&lang=css\"\n\nimport exportComponent from \"D:\\\\vue\\\\store\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}